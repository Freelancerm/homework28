from typing import Any

order_count = 0
paid_count = 0
replay_count = 0


def analytics_counter(event_name: str, data: Any):
    """
    –°–ª—É—Ö–∞—á –ø–æ–¥—ñ–π, —â–æ –≤–µ–¥–µ –ø—ñ–¥—Ä–∞—Ö—É–Ω–æ–∫ –∑–∞–≥–∞–ª—å–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–≤–æ—Ä–µ–Ω–∏—Ö —Ç–∞ –æ–ø–ª–∞—á–µ–Ω–∏—Ö –∑–∞–º–æ–≤–ª–µ–Ω—å.

    –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è –ø—ñ–¥–ø–∏—Å–∫–∏ –Ω–∞:
    - 'order.created' (–∑–±—ñ–ª—å—à—É—î order_count)
    - 'order.paid' (–∑–±—ñ–ª—å—à—É—î paid_count)

    –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –≥–ª–æ–±–∞–ª—å–Ω—ñ –∑–º—ñ–Ω–Ω—ñ –¥–ª—è –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —Å—Ç–∞–Ω—ñ–≤ –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤.

    :param event_name: –ù–∞–∑–≤–∞ –ø–æ–¥—ñ—ó, —â–æ –±—É–ª–∞ –µ–º—ñ—Ç–æ–≤–∞–Ω–∞.
    :type event_name: str
    :param data: –î–∞–Ω—ñ, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –ø–æ–¥—ñ—î—é (—ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è –≤ —Ü—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó).
    :type data: Any
    """
    global order_count, paid_count

    if event_name == "order.created":
        order_count += 1
        print(f"ANALYTICS: –ó–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ –Ω–æ–≤–µ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è. –í—Å—å–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω—å: {order_count}")

    elif event_name == "order.paid":
        paid_count += 1
        print(f"ANALYTICS: –ó–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–æ –Ω–æ–≤—É –æ–ø–ª–∞—Ç—É. –í—Å—å–æ–≥–æ –æ–ø–ª–∞—Ç: {paid_count}")


def get_analytics_total():
    """
    –°–ª—É—Ö–∞—á, —è–∫–∏–π –≤—ñ–¥—Å—Ç–µ–∂—É—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ–¥—ñ–π, –ø–æ–≤—Ç–æ—Ä–Ω–æ –æ–±—Ä–æ–±–ª–µ–Ω–∏—Ö –ø—ñ–¥ —á–∞—Å Replay.

    –¶—è —Ñ—É–Ω–∫—Ü—ñ—è –º–æ–∂–µ –±—É—Ç–∏ –ø—ñ–¥–ø–∏—Å–∞–Ω–∞ –Ω–∞ –≤–∞–π–ª–¥–∫–∞—Ä–¥ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, 'order.*')
    –¥–ª—è –ø—ñ–¥—Ä–∞—Ö—É–Ω–∫—É –≤—Å—ñ—Ö –ø–æ–¥—ñ–π, —è–∫—ñ –ø—Ä–æ—Ö–æ–¥—è—Ç—å —á–µ—Ä–µ–∑ –º–µ—Ö–∞–Ω—ñ–∑–º –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–≤–∞–Ω–Ω—è.

    :param event_name: –ù–∞–∑–≤–∞ –ø–æ–¥—ñ—ó, —â–æ –±—É–ª–∞ –µ–º—ñ—Ç–æ–≤–∞–Ω–∞.
    :type event_name: str
    :param data: –î–∞–Ω—ñ, –ø–æ–≤'—è–∑–∞–Ω—ñ –∑ –ø–æ–¥—ñ—î—é (—ñ–≥–Ω–æ—Ä—É—é—Ç—å—Å—è –≤ —Ü—ñ–π —Ñ—É–Ω–∫—Ü—ñ—ó).
    :type data: Any
    """
    return {"orders": order_count, "paid": paid_count, "replay_events": replay_count}


def analytics_replay_listener(event_name: str, data: Any):
    """
    –ü–æ–≤–µ—Ä—Ç–∞—î –ø–æ—Ç–æ—á–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è –≤—Å—ñ—Ö –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏.

    :return: –°–ª–æ–≤–Ω–∏–∫ –∑ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∞–º–∏: {"orders": int, "paid": int, "replay_events": int}.
    :rtype: Dict[str, int]
    """
    global replay_count
    replay_count += 1
    print(f"üîÑ ANALYTICS REPLAY: –ü–æ–≤—Ç–æ—Ä–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –ø–æ–¥—ñ—ó {event_name}. –í—Å—å–æ–≥–æ –ø–µ—Ä–µ–ø—Ä–æ–≥—Ä–∞–Ω–æ: {replay_count}")


def reset_analytics_total():
    """
    –°–∫–∏–¥–∞—î –≤—Å—ñ –≥–ª–æ–±–∞–ª—å–Ω—ñ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ –¥–æ –Ω—É–ª—è.
    –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è, —è–∫ –ø—Ä–∞–≤–∏–ª–æ, –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º —Ç–µ—Å—Ç–æ–≤–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—ó–≤
    –∞–±–æ –ø–µ—Ä–µ–¥ –ø–æ–≤—Ç–æ—Ä–Ω–∏–º –ø—Ä–æ–≥—Ä–∞–≤–∞–Ω–Ω—è–º (Replay) –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è —á–∏—Å—Ç–æ–≥–æ —Å—Ç–∞–Ω—É.
    """
    global order_count, paid_count, replay_count
    order_count = 0
    paid_count = 0
    replay_count = 0
    print("ANALYTICS: –õ—ñ—á–∏–ª—å–Ω–∏–∫–∏ —É—Å–ø—ñ—à–Ω–æ —Å–∫–∏–Ω—É—Ç–æ –¥–ª—è Replay.")
